# young3重采样器文档

[原文链接 (英语)](https://utaforum.net/threads/release-of-experimental-resampler-young3.19342/) 原作者: [Zany](https://utaforum.net/members/zany.5330/)

---

- [young3重采样器文档](#young3重采样器文档)
  - [声明](#声明)
  - [正文](#正文)
    - [实验性重采样器young3配布](#实验性重采样器young3配布)
    - [常见问题](#常见问题)

## 声明

因为能力有限，翻译时可能会有疏漏和错误，抱歉。

我是狼大，再次见面。

  
## 正文

### 实验性重采样器young3配布

我打算把我做的实验性重采样器配布出来。我把它叫做“young3”。
这个基本上就是tn_fnds但是使用了叫做HARVEST的f0估计算法。

可以在此处下载：
http://www.mediafire.com/file/zk90gdt3s87g8kt
（链接失效）
https://www.mediafire.com/file/7kr8yckc2a9rz44/
（2019/6/15更新的版本）


我只用young3测试了一点点声库，但是总体来说，和tn_fnds相似但是合成出来更厚实的音色。

在使用young3之前，你应该知道这个重采样器比原本的tn_fnds多3-5倍的时间来合成。
这个重采样器也是高度实验性的，不一定每次都会有很好的效果。
下面是一些可以帮助提升效果的flags。

**-- flags --**  
因为young3相当于tn_fnds的修改版，所以它接受所有tn_fnds的flags。
一个值得注意的flag是可以把循环音频改为拉伸音频的 `e` flag。

> `M` flag (旧版)

全局使用此flag。（从Project -> Project Property -> Rendering Options）（抱歉我没有中文汉化的utau（（（
如果你在多音阶音源中指定了文件的音高，这将使重采样器渲染速度更快。

此flag的灵感来自于moresampler的 `analysis-f0-range-from-path` 配置。
它会根据多音高声库的规定音高自动分配f0估计限制，
而且仅当以正确的音高录制采样，并且样本所在的文件名称是正确的（例如F4、A5 等）时，此flag才会起作用。

对于单音阶声库有一些解决方法：要么将文件放在另一个标有适当音高的文件夹中，要么使用稍后介绍的 `p` flag。

> `M` flag (新版)

用于加速HARVEST的 `M` flag现在也将优先考虑 `.frq` 平均频率值。
请注意，我认为如果渲染速度更快，输出质量可能会降低一些。

虽然young3可以使用HARVEST预测频率值，但我认为最好在使用重采样器之前生成 `.frq`文件。

> `D` flag

这个flag强制让young3使用tn_fnds估计f0的方法。
这样也会让重采样器更快一点。
可以在有错误或者听起来很糟糕的特定音符上面使用。
强烈建议在语尾气息上面使用。

全局使用 `D` flag时，这个重采样器就是tn_fnds。
并且这个 `D` flag和默认重采样器的 `D` flag不同，默认的 `D` flag是中频滤波。

> `S` flag

有时，齿音或“S”音可能听起来刺耳或有嗡嗡声。使用此flag将减少这种情况。
也请全局使用这个flag。

这是通过自动将 `D` flag分配给那些具有“S”声音的音符来完成的。
此标志仅适用于平假名语音库。

我实际上并没有正确更新这个标志的搜索算法，所以它有时可能没法工作。
特别是如果你的声库的名字以 “さしすせそ” 开头。

> `p` flag（接受65~587之间的数值，默认是262）

建议是在单独音符上面使用此flag。
这个是手动版本的 `M` flag。
使用[这个](http://peabody.sapp.org/class/st2/lab/notehz/)网站来把采样音高转换成频率。
例如：E4就是 `p330`
这个flag会覆盖 `M` flag。仅在你知道音高的时候使用。

对于单音阶声库，你可以用这个flag作为 `M` flag的解决方案。

我从moresampler网站获得了网站链接，因此在这里感谢Kanru Hua。

> `B` flag（接受0～100之间的数值，默认是50）

对于小于50的值来说，这个flag会像WARP重采样器的 `B` flag一样。
对于大于50的值来说，会使用tn_fnds的的`B` flag效果。

> `O` flag（接受0～100之间的数值，默认是0）

把均衡从RIAA曲线更改为更像是低通滤波的曲线。所以，只有较高的flag数值才会提升高频，反之亦然。低频不再被压制了。（知识盲区，抱歉

如果您想要带有原始`O` flag的版本，请随时与我联系。

> `W` flag（接受-2，0～1000之间的数值，默认是-1）

与我其他两个tn_fnds的修改类似，如果`W` flag没有指定一个数值，会自动使用 `.frq` 的平均频率数值。
我相信这个对于修改听起来很糟糕的音符来说很有用。

### 常见问题

Q：我不理解这些flag，因为这些有些长。
A：虽然这里可能还有一些我还没有发现的bug，但是young3在没有flag的情况下也可以工作良好。你可以使用 `M` flag如果你想更快的合成，或者用 `B0`来减少气息。
如果有合成错误，可以用 `W` flag来修复。

Q：我还需要担心如果我使用的是单音阶声库吗？
A：只要有对应的 `.frq`文件，young3可以正常工作。

Q：我的声库使用tn_fnds的效果不是很好，young3可以提升效果吗？
A：是的！HARVEST比DIO更加强大，而且一些错误可以用 `W` flag来修复（如果你的 `.frq`文件没有错误的话）。但是我建议不要全局使用 `W` flag因为STONEMASK不会预测VUV（知识盲区，再次 所以 `b` flag（加强辅音）不会照常工作。

可以通过推特@UtauZany反馈问题！

